import{a as F,b}from"./chunk-XECDBXTZ.js";import"./chunk-T73IIDAP.js";import"./chunk-BDFVN7RY.js";import{a as I,k as y,l as w}from"./chunk-LHASCYSG.js";import{B as p,F as c,G as f,L as R,P as s,Q as m,R as l,W as S,X as v,Z as u,e as n,q as d,r as _,sa as h,va as C,za as g}from"./chunk-QAP2ZFBM.js";function T(a,e){if(a&1){let t=S();m(0,"app-ver-receta",3),v("close",function(){d(t);let o=u();return _(o.recetaSeleccionada=null)}),l()}if(a&2){let t=u();s("receta",t.recetaSeleccionada)}}var M=class a{constructor(e,t,r,o){this.recetasService=e;this.authService=t;this.router=r;this.modalService=o;this.authService.user$.subscribe(i=>{this.currentUser=i})}recetas=[];currentUser=null;recetaSeleccionada=null;ngOnInit(){return n(this,null,function*(){yield this.cargarRecetas()})}cargarRecetas(){return n(this,null,function*(){this.recetas=yield this.recetasService.obtenerRecetas()})}verDetalleReceta(e){e.id&&this.router.navigate(["/receta",e.id])}editarReceta(e){this.modalService.abrirEditarReceta(e)}eliminarReceta(e){return n(this,null,function*(){if(e.id)try{yield this.recetasService.eliminarReceta(e.id),yield this.cargarRecetas()}catch{alert("Error al eliminar la receta")}})}static \u0275fac=function(t){return new(t||a)(c(y),c(I),c(g),c(w))};static \u0275cmp=f({type:a,selectors:[["app-favoritos"]],decls:3,vars:6,consts:[[1,"page-container"],[3,"verReceta","editarReceta","eliminarReceta","recetas","currentUserId","terminoBusqueda","soloFavoritos","soloPublicaciones"],[3,"receta","close",4,"ngIf"],[3,"close","receta"]],template:function(t,r){t&1&&(m(0,"div",0)(1,"app-lista-recetas",1),v("verReceta",function(i){return r.verDetalleReceta(i)})("editarReceta",function(i){return r.editarReceta(i)})("eliminarReceta",function(i){return r.eliminarReceta(i)}),l(),R(2,T,1,1,"app-ver-receta",2),l()),t&2&&(p(),s("recetas",r.recetas)("currentUserId",r.currentUser==null?null:r.currentUser.uid)("terminoBusqueda","")("soloFavoritos",!0)("soloPublicaciones",!1),p(),s("ngIf",r.recetaSeleccionada))},dependencies:[C,h,F,b],styles:[".page-container[_ngcontent-%COMP%]{min-height:100%}"]})};export{M as FavoritosComponent};
