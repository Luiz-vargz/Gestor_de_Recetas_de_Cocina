import{a as y,b}from"./chunk-XECDBXTZ.js";import"./chunk-T73IIDAP.js";import"./chunk-BDFVN7RY.js";import{a as M,k as I,l as w}from"./chunk-LHASCYSG.js";import{B as m,F as n,G as _,L as f,P as s,Q as p,R as l,W as S,X as u,Z as d,e as o,q as v,r as R,sa as h,va as C,za as g}from"./chunk-QAP2ZFBM.js";function U(a,e){if(a&1){let t=S();p(0,"app-ver-receta",3),u("close",function(){v(t);let c=d();return R(c.recetaSeleccionada=null)}),l()}if(a&2){let t=d();s("receta",t.recetaSeleccionada)}}var T=class a{constructor(e,t,r,c){this.recetasService=e;this.authService=t;this.router=r;this.modalService=c;this.authService.user$.subscribe(i=>{this.currentUser=i})}recetas=[];currentUser=null;recetaSeleccionada=null;ngOnInit(){return o(this,null,function*(){yield this.cargarRecetas()})}cargarRecetas(){return o(this,null,function*(){this.recetas=yield this.recetasService.obtenerRecetas()})}verDetalleReceta(e){e.id&&this.router.navigate(["/receta",e.id])}editarReceta(e){this.modalService.abrirEditarReceta(e)}eliminarReceta(e){return o(this,null,function*(){if(e.id)try{yield this.recetasService.eliminarReceta(e.id),yield this.cargarRecetas()}catch{alert("Error al eliminar la receta")}})}static \u0275fac=function(t){return new(t||a)(n(I),n(M),n(g),n(w))};static \u0275cmp=_({type:a,selectors:[["app-mis-recetas"]],decls:3,vars:6,consts:[[1,"page-container"],[3,"verReceta","editarReceta","eliminarReceta","recetas","currentUserId","terminoBusqueda","soloFavoritos","soloPublicaciones"],[3,"receta","close",4,"ngIf"],[3,"close","receta"]],template:function(t,r){t&1&&(p(0,"div",0)(1,"app-lista-recetas",1),u("verReceta",function(i){return r.verDetalleReceta(i)})("editarReceta",function(i){return r.editarReceta(i)})("eliminarReceta",function(i){return r.eliminarReceta(i)}),l(),f(2,U,1,1,"app-ver-receta",2),l()),t&2&&(m(),s("recetas",r.recetas)("currentUserId",r.currentUser==null?null:r.currentUser.uid)("terminoBusqueda","")("soloFavoritos",!1)("soloPublicaciones",!0),m(),s("ngIf",r.recetaSeleccionada))},dependencies:[C,h,y,b],styles:[".page-container[_ngcontent-%COMP%]{min-height:100%}"]})};export{T as MisRecetasComponent};
