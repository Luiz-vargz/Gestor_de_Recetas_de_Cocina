import{b as p,c as u,d as v,e as d,f as n,g as s,h as c,i as h,j as y}from"./chunk-LHASCYSG.js";import{J as m,a as f,e as a,m as l}from"./chunk-QAP2ZFBM.js";var g=class e{transform(o){if(o<60)return`${o} minutos`;{let r=Math.floor(o/60),t=o%60;return t===0?`${r} ${r===1?"hora":"horas"}`:`${r}h ${t}min`}}static \u0275fac=function(r){return new(r||e)};static \u0275pipe=m({name:"tiempo",type:e,pure:!0})};var w=class e{db=d();favoritosCollection=u(this.db,"favoritos");agregarFavorito(o,r){return a(this,null,function*(){try{yield y(this.favoritosCollection,{userId:o,recetaId:r,createdAt:p.now()})}catch(t){throw console.error("Error al agregar favorito:",t),t}})}quitarFavorito(o){return a(this,null,function*(){try{let r=v(this.db,"favoritos",o);yield h(r)}catch(r){throw console.error("Error al quitar favorito:",r),r}})}obtenerFavoritosPorUsuario(o){return a(this,null,function*(){try{let r=n(this.favoritosCollection,s("userId","==",o));return(yield c(r)).docs.map(i=>f({id:i.id},i.data()))}catch(r){return console.error("Error al obtener favoritos:",r),[]}})}esFavorito(o,r){return a(this,null,function*(){try{let t=n(this.favoritosCollection,s("userId","==",o),s("recetaId","==",r)),i=yield c(t);return i.empty?null:i.docs[0].id}catch(t){return console.error("Error al verificar favorito:",t),null}})}static \u0275fac=function(r){return new(r||e)};static \u0275prov=l({token:e,factory:e.\u0275fac,providedIn:"root"})};export{g as a,w as b};
